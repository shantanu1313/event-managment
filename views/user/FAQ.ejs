<%- include('navbar.ejs') %>

<style>
  
/* FAQ / CONTACT BANNER */
.contact-banner {
  background: linear-gradient(
  rgba(0, 0, 0, 0.6),
  rgba(0, 0, 0, 0.6)
),
url('/upload/faq/<%= header_faq[0].bg_image %>');
   background-size: cover;
  background-position: center;
  height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #ffffff;
}

.contact-banner h1 {
  font-weight: 800;
  font-size: 3rem;
}
</style>


<link rel="stylesheet" href="/css/FAQ.css">

<!-- ===== FAQ BANNER ===== -->
<section class="contact-banner">
    <div class="container text-center">
        <h1><%= header_faq[0].title %></h1>
        <p class="lead"><%= header_faq[0].description %></p>
    </div>
</section>

<!-- ===== FAQ SECTION ===== -->
<section class="faq-section">
  <div class="container">

    <!-- FAQ LIST -->
    <div class="faq-list">
<% faqs.forEach(function(faq){ %>
  <div class="faq-item">
    <details>
      <summary><%= faq.question %></summary>
      <p><%= faq.answer %></p>
    </details>
  </div>
<% }) %>


    </div>

    <!-- PAGINATION -->
    <div class="pagination" id="pagination"></div>

  </div>
</section>

<%- include('footer.ejs') %>

<script>
  const faqItems = document.querySelectorAll('.faq-item');
  const itemsPerPage = 3;
  const totalPages = Math.ceil(faqItems.length / itemsPerPage);
  const pagination = document.getElementById('pagination');

  function showPage(page) {
    faqItems.forEach((item, index) => {
      item.style.display =
        index >= (page - 1) * itemsPerPage && index < page * itemsPerPage
          ? 'block'
          : 'none';
    });

    document.querySelectorAll('.page-btn').forEach(btn =>
      btn.classList.remove('active')
    );

    document.getElementById('page-' + page).classList.add('active');
  }

  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement('button');
    btn.className = 'page-btn';
    btn.id = 'page-' + i;
    btn.innerText = i;
    btn.onclick = () => showPage(i);
    pagination.appendChild(btn);
  }

  showPage(1);
</script>
