<%- include('navbar.ejs') %>

<style>
    .sve-registration-section * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
  
    .sve-demo-section {
        margin-top:70px;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background-image:linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),url('images/slider3.jpeg');
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        padding: 20px;
    }

    
    /* Registration Container */
    .sve-register-container {
      background: rgba(255, 255, 255, 0.95);
      padding: 3rem;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 500px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      animation: sve-fadeIn 0.8s ease-out;
    }
    
    @keyframes sve-fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .sve-register-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }
    
    .sve-register-header h2 {
      color: #5232DB;
      font-size: 2.2rem;
      margin-bottom: 0.5rem;
      font-weight: 700;
    }
    
    .sve-register-header p {
      color: #666;
      font-size: 1rem;
      line-height: 1.5;
    }
    
    /* Form Layout */
   
    .sve-full-width {
      grid-column: span 2;
    }
    
    .sve-input-group {
      margin-bottom: 1.5rem;
    }
    
    .sve-input-group label {
      display: block;
      color: #333;
      margin-bottom: 0.8rem;
      font-weight: 600;
      font-size: 0.95rem;
    }
    
    .sve-input-group input, 
    .sve-input-group select {
      width: 100%;
      padding: 1rem 1.2rem;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s;
      background: #f8f9fa;
    }
    
    .sve-input-group input:focus,
    .sve-input-group select:focus {
      outline: none;
      border-color: #5232DB;
      box-shadow: 0 0 0 3px rgba(82, 50, 219, 0.1);
      background: white;
    }
    
    .sve-input-group input::placeholder {
      color: #999;
    }
    
    .sve-password-container {
      position: relative;
    }
    
    .sve-toggle-password {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: #666;
      cursor: pointer;
      font-size: 1.2rem;
    }
    
    /* Terms and Conditions */
    .sve-terms-group {
      margin: 2rem 0;
      padding: 1.5rem;
      background: #f8f9fa;
      border-radius: 12px;
      border-left: 4px solid #5232DB;
    }
    
    .sve-terms-content {
      max-height: 150px;
      overflow-y: auto;
      padding: 1rem;
      background: white;
      border-radius: 8px;
      margin: 1rem 0;
      font-size: 0.9rem;
      line-height: 1.5;
      color: #555;
    }
    
    .sve-terms-content::-webkit-scrollbar {
      width: 6px;
    }
    
    .sve-terms-content::-webkit-scrollbar-thumb {
      background: #5232DB;
      border-radius: 3px;
    }
    
    .sve-checkbox-group {
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    
    .sve-checkbox-group input[type="checkbox"] {
      margin-top: 4px;
    }
    
    .sve-checkbox-group label {
      font-weight: normal;
      color: #555;
      line-height: 1.4;
    }
    
    .sve-checkbox-group a {
      color: #5232DB;
      text-decoration: none;
      font-weight: 600;
    }
    
    .sve-checkbox-group a:hover {
      text-decoration: underline;
    }
    
    /* Buttons */
    .sve-btn-group {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .sve-register-btn {
      flex: 1;
      padding: 1rem;
      background: linear-gradient(135deg, #5232DB, #7B52E8);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 6px 20px rgba(82, 50, 219, 0.3);
    }
    
    .sve-register-btn:hover {
      background: linear-gradient(135deg, #4629c4, #6a45d2);
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(82, 50, 219, 0.4);
    }
    
    .sve-back-btn {
      flex: 1;
      padding: 1rem;
      background: #f8f9fa;
      color: #5232DB;
      border: 2px solid #5232DB;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .sve-back-btn:hover {
      background: #5232DB;
      color: white;
    }
    
    /* Links */
    .sve-links {
      text-align: center;
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid #eee;
    }
    
    .sve-links a {
      color: #5232DB;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      transition: all 0.3s;
    }
    
    .sve-links a:hover {
      color: #7B52E8;
      text-decoration: underline;
    }
    
    .sve-login-link {
      font-weight: 600;
    }
    
    .sve-footer-text {
      text-align: center;
      margin-top: 1.5rem;
      color: #777;
      font-size: 0.9rem;
    }
    
    /* Progress Indicator */
    .sve-progress-indicator {
      display: flex;
      justify-content: space-between;
      margin-bottom: 2.5rem;
      position: relative;
    }
    
    .sve-progress-indicator::before {
      content: '';
      position: absolute;
      top: 25px;
      left: 50px;
      right: 50px;
      height: 3px;
      background: #e0e0e0;
      z-index: 1;
    }
    
    .sve-step {
      text-align: center;
      position: relative;
      z-index: 2;
    }
    
    .sve-step-circle {
      width: 50px;
      height: 50px;
      background: white;
      border: 3px solid #e0e0e0;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #999;
      margin: 0 auto 10px;
      transition: all 0.3s;
    }
    
    .sve-step.active .sve-step-circle {
      background: #5232DB;
      border-color: #5232DB;
      color: white;
      box-shadow: 0 5px 15px rgba(82, 50, 219, 0.3);
    }
    
    .sve-step-label {
      font-size: 0.9rem;
      color: #666;
      font-weight: 500;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .sve-registration-section .sve-demo-section {
        padding: 15px;
        background-attachment: scroll;
      }
      
      .sve-register-container {
        padding: 2rem;
        margin: 1rem;
      }
      
      .sve-form-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      .sve-full-width {
        grid-column: span 1;
      }
      
      .sve-register-header h2 {
        font-size: 1.8rem;
      }
      
     
      .sve-btn-group {
        flex-direction: column;
      }
      
      .sve-progress-indicator::before {
        left: 30px;
        right: 30px;
      }
      
      .sve-step-circle {
        width: 40px;
        height: 40px;
        font-size: 0.9rem;
      }
    }
    
    @media (max-width: 480px) {
      .sve-register-container {
        padding: 1.8rem;
      }
      
      .sve-register-header h2 {
        font-size: 1.6rem;
      }
      
      .sve-input-group input,
      .sve-input-group select {
        padding: 0.9rem 1rem;
      }
      
      .sve-terms-group {
        padding: 1rem;
      }
    }
    
    /* Form Validation Styles */
    .sve-error-message {
      color: #e74c3c;
      font-size: 0.85rem;
      margin-top: 5px;
      display: none;
    }
    
    .sve-input-group.error input,
    .sve-input-group.error select {
      border-color: #e74c3c;
    }
    
    .sve-input-group.success input,
    .sve-input-group.success select {
      border-color: #2ecc71;
    }
  </style>


<section class="sve-demo-section sve-registration-section">
   <!-- Registration Form -->
  <div class="sve-register-container">
    <div class="sve-register-header">
      <h2>Create Account</h2>
      <p>Join Siddhivinayak Event Management</p>
    </div>
    
    <form id="sve-registerForm" action="save_user" method="post">
      <!-- Personal Information -->
      <div class="sve-form-grid">
         <div class="sve-input-group">
        <label for="sve-name">Name *</label>
        <input type="text" id="sve-email" name="name" required placeholder="Enter FULL NAME">
        <div class="sve-error-message" id="sve-emailError">Please enter a valid email address</div>
      
      <div class="sve-input-group">
        <label for="sve-email">Email Address *</label>
        <input type="email"  name="email" required placeholder="Enter email address">
        <div class="sve-error-message" id="sve-emailError2">Please enter a valid email address</div>
      </div>
      
      <div class="sve-input-group">
        <label for="sve-phone">Phone Number *</label>
        <input type="tel" name="mobile" id="sve-phone" required placeholder="Enter phone number">
        <div class="sve-error-message" id="sve-phoneError">Please enter a valid phone number</div>
      </div>
      
      <div class="sve-input-group">
        <label for="sve-userType">Account Type *</label>
        <select id="sve-userType" name="account" required>
          <option value="">Select account type</option>
          <option value="client">Event Client</option>
          <option value="vendor">Service Vendor</option>
          <option value="staff">Staff Member</option>
          <option value="admin">Administrator</option>
        </select>
        <div class="sve-error-message" id="sve-userTypeError">Please select an account type</div>
      </div>
      
      <!-- Account Information -->
      <div class="sve-form-grid">
        <div class="sve-input-group">
          <label for="sve-username">Username *</label>
          <input type="text" name="username" id="sve-username" required placeholder="Choose username">
          <div class="sve-error-message" id="sve-usernameError">Username must be 4-20 characters</div>
        </div>
        
        <div class="sve-input-group">
          <label for="sve-password">Password *</label>
          <div class="sve-password-container">
            <input type="password" name="password" id="sve-password" required placeholder="Create password">
            <button type="button" class="sve-toggle-password" onclick="sveTogglePasswordVisibility('sve-password')">üëÅÔ∏è</button>
          </div>
          <div class="sve-error-message" id="sve-passwordError">Password must be at least 8 characters</div>
        </div>
      </div>
      
      <div class="sve-input-group">
        <label for="sve-confirmPassword">Confirm Password *</label>
        <div class="sve-password-container">
          <input type="password" name="confirm_password" id="sve-confirmPassword" required placeholder="Confirm password">
          <button type="button" class="sve-toggle-password" onclick="sveTogglePasswordVisibility('sve-confirmPassword')">üëÅÔ∏è</button>
        </div>
        <div class="sve-error-message" id="sve-confirmPasswordError">Passwords do not match</div>
      </div>
      
      <!-- Terms and Conditions -->
      <div class="sve-terms-group">
        <h4 style="color: #5232DB; margin-bottom: 1rem;">Terms & Conditions</h4>
        <div class="sve-terms-content">
          <p>By creating an account with Siddhivinayak Event Management, you agree to the following terms:</p>
          <ul style="padding-left: 20px; margin-top: 10px;">
            <li>You must provide accurate and complete registration information</li>
            <li>You are responsible for maintaining the confidentiality of your account</li>
            <li>Cancellation policies apply as per individual event terms</li>
            <li>Payment terms must be adhered to for all services</li>
          </ul>
        </div>
        <div class="sve-checkbox-group">
          <input type="checkbox" id="sve-terms" required>
          <label for="sve-terms">
            I agree to the <a href="#" onclick="sveShowFullTerms()">Terms and Conditions</a> and 
            <a href="#" onclick="sveShowPrivacyPolicy()">Privacy Policy</a> *
          </label>
        </div>
        <div class="sve-error-message" id="sve-termsError">You must accept the terms and conditions</div>
      </div>
      
      <!-- Buttons -->
      <div class="sve-btn-group">
        <button type="button" class="sve-back-btn" onclick="sveGoToLogin()">Back to Login</button>
        <button type="submit" class="sve-register-btn">Create Account</button>
      </div>
    </form>
    
    <div class="sve-links">
      Already have an account? 
      <a href="/login" class="sve-login-link">Sign in here</a>
    </div>
    
    <div class="sve-footer-text">
      ¬© 2024 Siddhivinayak Event Management. All rights reserved.
    </div>
  </div>

  </section>

  <script>
    // Form validation and submission
    document.getElementById('sve-registerForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Clear previous errors
      sveClearErrors();
      
      // Validate form
      let isValid = sveValidateForm();
      
      if (isValid) {
        // Simulate registration process
        const registerBtn = document.querySelector('.sve-register-btn');
        registerBtn.innerHTML = '<span>Creating Account...</span>';
        registerBtn.disabled = true;
        
        setTimeout(() => {
          alert('Registration successful! You will be redirected to login.');
          // Uncomment below line for actual redirect
          // window.location.href = 'login.html';
          
          registerBtn.innerHTML = '<span>Create Account</span>';
          registerBtn.disabled = false;
          
          // Show success animation
          sveShowSuccessAnimation();
        }, 2000);
      }
    });
    
    // Form validation function
    function sveValidateForm() {
      let isValid = true;
      
      // Validate name
      const name = document.getElementById('sve-email').value;
      if (!name || name.length < 2) {
        sveShowError('sve-emailError', 'Please enter a valid name (min 2 characters)');
        document.getElementById('sve-email').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-email').parentElement.classList.add('success');
      }
      
      // Validate email
      const email = document.getElementById('sve-email').value;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!email || !emailRegex.test(email)) {
        sveShowError('sve-emailError2', 'Please enter a valid email address');
        document.getElementById('sve-email').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-email').parentElement.classList.add('success');
      }
      
      // Validate phone
      const phone = document.getElementById('sve-phone').value;
      const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
      if (!phone || !phoneRegex.test(phone.replace(/[\s\-\(\)]/g, ''))) {
        sveShowError('sve-phoneError', 'Please enter a valid phone number');
        document.getElementById('sve-phone').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-phone').parentElement.classList.add('success');
      }
      
      // Validate user type
      const userType = document.getElementById('sve-userType').value;
      if (!userType) {
        sveShowError('sve-userTypeError', 'Please select an account type');
        document.getElementById('sve-userType').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-userType').parentElement.classList.add('success');
      }
      
      // Validate username
      const username = document.getElementById('sve-username').value;
      if (!username || username.length < 4 || username.length > 20) {
        sveShowError('sve-usernameError', 'Username must be between 4-20 characters');
        document.getElementById('sve-username').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-username').parentElement.classList.add('success');
      }
      
      // Validate password
      const password = document.getElementById('sve-password').value;
      if (!password || password.length < 8) {
        sveShowError('sve-passwordError', 'Password must be at least 8 characters');
        document.getElementById('sve-password').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-password').parentElement.classList.add('success');
      }
      
      // Validate confirm password
      const confirmPassword = document.getElementById('sve-confirmPassword').value;
      if (!confirmPassword || password !== confirmPassword) {
        sveShowError('sve-confirmPasswordError', 'Passwords do not match');
        document.getElementById('sve-confirmPassword').parentElement.classList.add('error');
        isValid = false;
      } else {
        document.getElementById('sve-confirmPassword').parentElement.classList.add('success');
      }
      
      // Validate terms
      const terms = document.getElementById('sve-terms').checked;
      if (!terms) {
        sveShowError('sve-termsError', 'You must accept the terms and conditions');
        isValid = false;
      }
      
      return isValid;
    }
    
    function sveShowError(elementId, message) {
      const errorElement = document.getElementById(elementId);
      errorElement.textContent = message;
      errorElement.style.display = 'block';
    }
    
    function sveClearErrors() {
      const errorElements = document.querySelectorAll('.sve-error-message');
      errorElements.forEach(element => {
        element.style.display = 'none';
      });
      
      const inputGroups = document.querySelectorAll('.sve-input-group');
      inputGroups.forEach(group => {
        group.classList.remove('error', 'success');
      });
    }
    
    function sveTogglePasswordVisibility(fieldId) {
      const passwordInput = document.getElementById(fieldId);
      const toggleBtn = passwordInput.nextElementSibling;
      
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleBtn.textContent = 'üëÅÔ∏è‚Äçüó®Ô∏è';
      } else {
        passwordInput.type = 'password';
        toggleBtn.textContent = 'üëÅÔ∏è';
      }
    }
    
    function sveGoToLogin() {
      window.location.href = '/login';
    }
    
    function sveShowFullTerms() {
      alert('Full Terms and Conditions will be displayed in a modal or separate page.');
      // In actual implementation, open a modal or redirect to terms page
    }
    
    function sveShowPrivacyPolicy() {
      alert('Privacy Policy will be displayed in a modal or separate page.');
      // In actual implementation, open a modal or redirect to privacy policy page
    }
    
    function sveShowSuccessAnimation() {
      const logo = document.querySelector('.sve-navbar-brand img');
      if (logo) {
        logo.style.transform = 'scale(1.2)';
        logo.style.transition = 'transform 0.5s ease';
        
        setTimeout(() => {
          logo.style.transform = 'scale(1)';
        }, 500);
      }
    }
    
    // Real-time validation
    document.querySelectorAll('.sve-input-group input, .sve-input-group select').forEach(element => {
      element.addEventListener('blur', function() {
        // Simple validation on blur
        if (this.value.trim() === '' && this.hasAttribute('required')) {
          this.parentElement.parentElement.classList.add('error');
        } else {
          this.parentElement.parentElement.classList.remove('error');
          this.parentElement.parentElement.classList.add('success');
        }
      });
      
      element.addEventListener('input', function() {
        this.parentElement.parentElement.classList.remove('error');
      });
    });
    
    // Auto-focus on first field
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('sve-email').focus();
    });
  </script>

<%- include('footer.ejs') %>