<%- include('navbar.ejs') %>

    <link rel="stylesheet" href="css/testmonials.css">

    <!-- Hero Section -->
    <section class="testimonial-banner">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">Experience From Our Clients</h1>
                <p class="hero-subtitle">
                    Real stories from people who trusted us with their special moments.
                    See what our clients say about their unforgettable experiences.
                </p>
                <div class="hero-buttons">

                    <button class="btn btn-outline-light" id="openReviewForm">
                        <i class="fas fa-pen me-2"></i> Share Your Story
                    </button>

                </div>
            </div>
        </div>
    </section>

    <!-- stats-section -->>
    <section class="stats-section">
        <div class="stats-container">

            <div class="stat-card">
                <h2 class="stat-number" data-target="500">0+</h2>
                <p>Events Managed</p>
            </div>

            <div class="stat-card">
                <h2 class="stat-number" data-target="98">0%</h2>
                <p>Happy Clients</p>
            </div>

            <div class="stat-card">
                <h2 class="stat-number" data-target="50">0+</h2>
                <p>Expert Planners</p>
            </div>

            <div class="stat-card">
                <h2 class="stat-number" data-target="15">0</h2>
                <p>Years Experience</p>
            </div>

        </div>
    </section>

    <!-- Rating Section -->
    <section class="rating-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-4 mb-5 mb-lg-0">
                    <div class="rating-box fade-in">
                        <div class="rating-score">4.9</div>
                        <div class="stars">★★★★★</div>
                        <p class="text-muted">Based on 250+ Verified Reviews</p>

                        <div class="mt-4 pt-3 border-top">
                            <div class="row">
                                <div class="col-6">
                                    <div class="fw-bold text-success fs-4">94%</div>
                                    <small>5-Star Reviews</small>
                                </div>
                                <div class="col-6">
                                    <div class="fw-bold text-primary fs-4">68%</div>
                                    <small>Repeat Clients</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="fade-in" style="animation-delay: 0.2s">
                        <h2 class="mb-4">Why Clients Love siddhivinayak Event</h2>
                        <p class="lead mb-4">
                            Our clients choose us because we make event planning simple, stress-free, and
                            absolutely memorable. We listen to your vision and bring it to life with
                            precision and passion.
                        </p>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="d-flex align-items-start">
                                    <div class="me-3">
                                        <i class="fas fa-check-circle text-success fa-2x"></i>
                                    </div>
                                    <div>
                                        <h5>Everything Handled</h5>
                                        <p class="text-muted mb-0">We manage all details so you can relax and enjoy</p>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="d-flex align-items-start">
                                    <div class="me-3">
                                        <i class="fas fa-clock text-primary fa-2x"></i>
                                    </div>
                                    <div>
                                        <h5>Always On Time</h5>
                                        <p class="text-muted mb-0">Events start and end exactly as planned</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section Header -->
    <section class="testimonials-header text-center my-5">
        <h2 class="section-title">Client Testimonials</h2>
        <div class="underline mx-auto my-2"></div>
        <p class="section-subtitle text-muted">What our clients say about us</p>
        <div class="container">
            <div class="row g-4">
                <!-- Client 1 -->
                <div class="col-lg-4 col-md-6">
                    <div class="testimonial-card fade-in p-4 shadow-sm rounded">
                        <div class="client-header d-flex align-items-center mb-3">
                            <img src="https://i.pravatar.cc/150?img=4" alt="Sarah Johnson" class="rounded-circle me-3"
                                width="60">
                            <div>
                                <h5 class="mb-0">Sarah Johnson</h5>
                                <small class="text-muted">Wedding Client</small>
                            </div>
                        </div>
                        <div class="mb-2 text-warning">
                            ★★★★★
                        </div>
                        <p class="text-muted">
                            "siddhivinayak Event made our wedding day absolutely perfect! Their attention to detail and
                            professional approach took all the stress away. Highly recommended!"
                        </p>
                    </div>
                </div>
                <!-- Client 2 -->
                <div class="col-lg-4 col-md-6">
                    <div class="testimonial-card fade-in p-4 shadow-sm rounded">
                        <div class="client-header d-flex align-items-center mb-3">
                            <img src="https://i.pravatar.cc/150?img=5" alt="Michael Chen" class="rounded-circle me-3"
                                width="60">
                            <div>
                                <h5 class="mb-0">Michael Chen</h5>
                                <small class="text-muted">Corporate Client</small>
                            </div>
                        </div>
                        <div class="mb-2 text-warning">
                            ★★★★★
                        </div>
                        <p class="text-muted">
                            "Our annual conference was executed flawlessly by the siddhivinayak Event team. Their
                            professionalism and expertise made this our most successful event yet."
                        </p>
                    </div>
                </div>
                <!-- Client 3 -->
                <div class="col-lg-4 col-md-6">
                    <div class="testimonial-card fade-in p-4 shadow-sm rounded">
                        <div class="client-header d-flex align-items-center mb-3">
                            <img src="https://i.pravatar.cc/150?img=6" alt="Emma Williams" class="rounded-circle me-3"
                                width="60">
                            <div>
                                <h5 class="mb-0">Emma Williams</h5>
                                <small class="text-muted">Birthday Party Client</small>
                            </div>
                        </div>
                        <div class="mb-2 text-warning">
                            ★★★★★
                        </div>
                        <p class="text-muted">
                            "The surprise birthday party they organized was incredible! Every detail was perfect and our
                            guests are still talking about it."
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Review Form -->
    <section class="container" id="reviewSection">
        <div class="review-form-container fade-in">
            <div class="text-center mb-5">
                <h2>Share Your Experience</h2>
                <p class="text-muted">Help others discover the siddhivinayak Event difference</p>
            </div>

            <form id="reviewForm">
                <div class="row g-4">
                    <div class="col-md-6">
                        <input type="text" class="form-control form-control-lg" placeholder="Your Full Name" required>
                    </div>
                    <div class="col-md-6">
                        <select class="form-select form-select-lg" required>
                            <option selected disabled>Select Event Type</option>
                            <option>Wedding</option>
                            <option>Corporate Event</option>
                            <option>Birthday Party</option>
                            <option>Anniversary</option>
                            <option>Other</option>
                        </select>
                    </div>

                    <div class="col-12">
                        <label class="form-label">Your Rating</label>
                        <div class="star-rating" id="ratingStars">
                            <i class="fas fa-star" data-value="1"></i>
                            <i class="fas fa-star" data-value="2"></i>
                            <i class="fas fa-star" data-value="3"></i>
                            <i class="fas fa-star" data-value="4"></i>
                            <i class="fas fa-star" data-value="5"></i>
                        </div>
                    </div>

                    <div class="col-12">
                        <textarea class="form-control" rows="5"
                            placeholder="Tell us about your experience with siddhivinayak Event..." required></textarea>
                    </div>

                    <div class="col-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="consent" required>
                            <label class="form-check-label" for="consent">
                                I agree to share this testimonial on SIDDHIVINAYAK EVENT website
                            </label>
                        </div>
                    </div>

                    <div class="col-12 text-center">
                        <button type="submit" class="btn btn-gradient px-5 py-3 mt-3">
                            <i class="fas fa-paper-plane me-2"></i> Submit Review
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <%- include('footer.ejs') %>

        <script>

            let started = false;

            window.addEventListener("scroll", () => {
                let section = document.querySelector(".stats-section");

                if (!section) return;

                let top = section.getBoundingClientRect().top;
                let screen = window.innerHeight;

                if (top < screen && !started) {
                    started = true;

                    document.querySelectorAll(".stat-card").forEach(card => {
                        card.classList.add("show");
                    });

                    document.querySelectorAll(".stat-number").forEach(num => {
                        let target = +num.dataset.target;
                        let count = 0;

                        let timer = setInterval(() => {
                            count++;
                            num.innerText =
                                count +
                                (num.innerText.includes("+") ? "+" :
                                    num.innerText.includes("%") ? "%" : "");

                            if (count === target) clearInterval(timer);
                        }, 20);
                    });
                }
            });



            const stars = document.querySelectorAll('#ratingStars i');
            let selectedRating = 0;

            // Highlight stars on hover & click
            stars.forEach((star, i) => {
                star.addEventListener('mouseover', () => highlight(i + 1));
                star.addEventListener('mouseout', () => highlight(selectedRating));
                star.addEventListener('click', () => (selectedRating = i + 1, highlight(selectedRating)));
            });

            function highlight(rating) {
                stars.forEach((s, i) => s.classList.toggle('text-warning', i < rating));
            }

            // Form submit
            document.getElementById('reviewForm').addEventListener('submit', e => {
                e.preventDefault();
                const name = e.target.querySelector('input[type="text"]').value.trim();
                const eventType = e.target.querySelector('select').value;
                const message = e.target.querySelector('textarea').value.trim();
                const consent = e.target.querySelector('#consent').checked;

                if (!consent) return alert('You must agree to share your testimonial.');
                if (!selectedRating) return alert('Please select a star rating.');

                console.log({ name, eventType, rating: selectedRating, message, consent });
                alert(`Thank you, ${name}! Your review has been submitted.`);

                e.target.reset();
                selectedRating = 0;
                highlight(0);
            });


            document.getElementById("openReviewForm").addEventListener("click", function () {
                document.getElementById("reviewSection").scrollIntoView({
                    behavior: "smooth"
                });
            });

        </script>