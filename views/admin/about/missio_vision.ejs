<%- include('../navbar.ejs') %>
  

        <%  let mission = null; let vision = null;
      if (vision_mission && vision_mission.length > 0) {
        vision_mission.forEach(function(item){
          if(item.type === 'mission'){
            mission = item;
          }
    if(item.type === 'vision'){
        vision = item;
      }
    });
  }
%>
 
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2" id="page-title">About- Vision & Mission</h1>
  </div>
       
  <div class="row justify-content-center mt-4">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-header text-center">
          <h4 class="mb-0">Vision Section</h4>
        </div>

        <div class="card-body">
          <form action="/admin/vision-mission/save" method="POST">

            <input type="hidden" name="type" value="vision">

            <div class="mb-3">
              <label class="form-label fw-bold">Title</label>
              <input type="text" name="title" class="form-control"
                value="<%= vision ? vision.title : '' %>" required>
            </div>

            <div class="mb-3">
              <label class="form-label fw-bold">Description</label>
              <textarea name="description" rows="4" class="form-control" required><%= vision ? vision.description : '' %></textarea>
            </div>

        <div class="mb-3">
    <label class="form-label fw-bold">Features</label>


  <div id="visionFeatures">
    <div class="input-group mb-2">
      <input type="text" name="features[]" class="form-control"
        value="<%= vision ? vision.features : '' %>">
      <button type="button" class="btn btn-danger" onclick="this.parentElement.remove()">×</button>
    </div>
  </div>

  <button type="button" class="btn btn-sm btn-success"
    onclick="addFeature('visionFeatures')">+ Add More</button>


            <div class="mb-3">
              <label class="form-label fw-bold">Tag Line</label>
              <input type="text" name="tag_line" class="form-control"
                value="<%= vision ? vision.tag_line : '' %>">
            </div>

            <div class="mb-3">
              <label class="form-label fw-bold">Icon Class</label>
              <input type="text" name="icon_class" class="form-control"
                value="<%= vision ? vision.icon_class : 'fas fa-eye' %>">
            </div>

            <input type="hidden" name="status" value="1">

            <div class="text-center">
              <button type="submit" class="btn btn-primary px-5">
                Save Vision
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-center mt-5">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-header text-center">
          <h4 class="mb-0">Mission Section</h4>
        </div>

        <div class="card-body">
          <form action="/admin/vision-mission/save" method="POST">

            <input type="hidden" name="type" value="mission">

            <div class="mb-3">
              <label class="form-label fw-bold">Title</label>
              <input type="text" name="title" class="form-control"
                value="<%= mission ? mission.title : '' %>" required>
            </div>

            <div class="mb-3">
              <label class="form-label fw-bold">Description</label>
              <textarea name="description" rows="4" class="form-control" required><%= mission ? mission.description : '' %></textarea>
            </div>

      <div id="missionFeatures">
    <div class="input-group mb-2">
      <input type="text" name="features[]" class="form-control"
        value="<%= mission ? mission.features : '' %>">
      <button type="button" class="btn btn-danger" onclick="this.parentElement.remove()">×</button>
    </div>
  </div>

  <button type="button" class="btn btn-sm btn-success"
    onclick="addFeature('missionFeatures')">+ Add More</button>


            <div class="mb-3">
              <label class="form-label fw-bold">Tag Line</label>
              <input type="text" name="tag_line" class="form-control"
                value="<%= mission ? mission.tag_line : '' %>">
            </div>

            <div class="mb-3">
              <label class="form-label fw-bold">Icon Class</label>
              <input type="text" name="icon_class" class="form-control"
                value="<%= mission ? mission.icon_class : 'fas fa-bullseye' %>">
            </div>

            <input type="hidden" name="status" value="1">

            <div class="text-center">
              <button type="submit" class="btn btn-primary px-5">
                Save Mission
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>

  <script>
  function addFeature(id){
    const box = document.getElementById(id);

    const html = `
      <div class="input-group mb-2">
        <input type="text" name="features[]" class="form-control" required>
        <button type="button" class="btn btn-danger"
          onclick="this.parentElement.remove()">×</button>
      </div>
    `;

    box.insertAdjacentHTML("beforeend", html);
  }
  </script>

<%- include('../footer.ejs') %>