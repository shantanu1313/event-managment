<%- include('../navbar.ejs') %>
    
<main class="main-content">

        <header class="top-navbar">
            <div class="page-title">
                <h1>Dashboard Overview</h1>
                <p>Welcome back! Here's what's happening with your events today.</p>
            </div>
            
            <div class="navbar-right">
                <div class="search-wrapper">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" placeholder="Search events, clients, payments...">
                </div>
                
                <div class="navbar-icons">
                    <div class="nav-icon">
                        <i class="far fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </div>
                    <div class="nav-icon">
                        <i class="far fa-envelope"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="nav-icon">
                        <i class="fas fa-cog"></i>
                    </div>
                </div>
            </div>
        </header>

        <div class="dashboard-content">

        <div class="container mt-4">
    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">
                <i class="fas fa-edit me-2"></i> Edit Header Faq
            </h5>
        </div>

        <div class="card-body">

            <% if (typeof error !== 'undefined') { %>
                <div class="alert alert-danger"><%= error %></div>
            <% } %>

            <form action="/admin/update_header_faq/<%= headerPackage.id %>"
                  method="POST"
                  enctype="multipart/form-data">

                <!-- Image -->
                <div class="mb-3">
                    <label class="form-label">Background Image</label>
                    <input type="file"
                           class="form-control"
                           name="bg_image"
                           accept="image/*"
                           onchange="previewImage(event)">

                    <% if (headerPackage.bg_image) { %>
                        <img id="imagePreview"
                             src="/upload/faq/<%= headerPackage.bg_image %>"
                             class="img-fluid mt-2 rounded"
                             style="max-height:150px;">
                    <% } %>
                </div>

                <!-- Title -->
                <div class="mb-3">
                    <label class="form-label">Title</label>
                    <input type="text"
                           class="form-control"
                           name="title"
                           value="<%= headerPackage.title %>"
                           required>
                </div>

                <!-- Description -->
                <div class="mb-3">
                    <label class="form-label">Description</label>
                    <textarea class="form-control"
                              name="description"
                              rows="4"
                              required><%= headerPackage.description %></textarea>
                </div>

                <div class="d-flex justify-content-between">
                    <a href="/admin/header_packages" class="btn btn-secondary">
                        <i class="fas fa-arrow-left me-1"></i> Back
                    </a>

                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save me-1"></i> Update
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>

<script>
function previewImage(event) {
    const reader = new FileReader();
    const image = document.getElementById("imagePreview");

    reader.onload = function () {
        image.src = reader.result;
    };

    reader.readAsDataURL(event.target.files[0]);
}
</script>

<%- include('../footer.ejs') %>